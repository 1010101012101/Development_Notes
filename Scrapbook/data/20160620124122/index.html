<!DOCTYPE html>
<html lang="en" class="js fontface no-webkit no-chrome windows no-ie8 wf-adelle-n4-active wf-adelle-n7-active wf-active">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">



  <title>Git - Undoing Things</title>

  <link href="favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="alternate" href="https://git-scm.com/blog.rss" type="application/rss+xml" title="Git - Blog">

  
  

  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

  
  


<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body id="documentation">

  <div class="inner">
    <header>

  <a href="https://git-scm.com/"><img src="logo@2x.png" alt="Git" height="46" width="110"></a>
  <span id="tagline">
    <em>--</em>distributed-even-if-your-workflow-isnt
  </span>

  <form id="search" action="https://git-scm.com/search/results">
    <input value="" id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text">
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <aside class="sidebar">
  <nav>
    <ul>
      <li>
        <a href="https://git-scm.com/about">About</a>
      </li>
      <li>
        <a class="active" href="https://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a href="https://git-scm.com/docs">Reference</a>
          </li>
          <li>
            <a href="https://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="https://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="https://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/blog">Blog</a>
      </li>
      <li>
        <a href="https://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="https://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/community">Community</a>
      </li>
    </ul>
      <hr class="sidebar">
        <p>Download this book in <a href="https://progit2.s3.amazonaws.com/en/2016-03-22-f3531/progit-en.1084.pdf">PDF</a>,
   <a href="https://progit2.s3.amazonaws.com/en/2016-03-22-f3531/progit-en.1084.mobi" type="application/x-mobipocket-ebook">mobi</a>,
or <a href="https://progit2.s3.amazonaws.com/en/2016-03-22-f3531/progit-en.1084.epub" type="application/epub+zip">ePub</a> form for free.</p>

  <p>
This book is translated into
  <a href="https://git-scm.com/book/de">Deutsch</a>,
  <a href="https://git-scm.com/book/zh">简体中文</a>,
  <a href="https://git-scm.com/book/zh-tw">正體中文</a>,
  <a href="https://git-scm.com/book/fr/v2">Français</a>,
  <a href="https://git-scm.com/book/ja">日本語</a>,
  <a href="https://git-scm.com/book/nl">Nederlands</a>,
  <a href="https://git-scm.com/book/ru">Русский</a>,
  <a href="https://git-scm.com/book/ko">한국어</a>,
  <a href="https://git-scm.com/book/pt-br">Português (Brasil)</a> and
  <a href="https://git-scm.com/book/cs">Čeština</a>.
</p>
<p>
Partial translations available in
  <a href="https://git-scm.com/book/ar">Arabic</a>,
  <a href="https://git-scm.com/book/es">Español</a>,
  <a href="https://git-scm.com/book/id">Indonesian</a>,
  <a href="https://git-scm.com/book/it">Italiano</a>,
  <a href="https://git-scm.com/book/fi">Suomi</a>,
  <a href="https://git-scm.com/book/mk">Македонски</a>,
  <a href="https://git-scm.com/book/pl">Polski</a> and
  <a href="https://git-scm.com/book/tr">Türkçe</a>.
</p>
<p>
Translations started for
  <a href="https://git-scm.com/book/az">Azərbaycan dili</a>,
  <a href="https://git-scm.com/book/be">Беларуская</a>,
  <a href="https://git-scm.com/book/ca">Català</a>,
  <a href="https://git-scm.com/book/eo">Esperanto</a>,
  <a href="https://git-scm.com/book/es-ni">Español (Nicaragua)</a>,
  <a href="https://git-scm.com/book/fa" dir="rtl">فارسی</a>,
  <a href="https://git-scm.com/book/hi">हिन्दी</a>,
  <a href="https://git-scm.com/book/hu">Magyar</a>,
  <a href="https://git-scm.com/book/no-nb">Norwegian Bokmål</a>,
  <a href="https://git-scm.com/book/ro">Română</a>,
  <a href="https://git-scm.com/book/sr">Српски</a>,
  <a href="https://git-scm.com/book/th">ภาษาไทย</a>,
  <a href="https://git-scm.com/book/vi">Tiếng Việt</a>,
  <a href="https://git-scm.com/book/uk">Українська</a> and
  <a href="https://git-scm.com/book/uz/v2">Ўзбекча</a>.
</p>
<hr class="sidebar">
<p>
The source of this book is <a href="https://github.com/progit/progit2">hosted on GitHub.</a><br>
Patches, suggestions and comments are welcome.
</p>

    <h4>Related Material</h4>
  <ul class="related-material">
      <li class="reference">
      <strong><a href="https://git-scm.com/ref/git-add">git-add</a></strong>
        in <a href="https://git-scm.com/docs">Reference</a>
      </li>
      <li class="reference">
      <strong><a href="https://git-scm.com/ref/git-reset">git-reset</a></strong>
        in <a href="https://git-scm.com/docs">Reference</a>
      </li>
      <li class="reference">
      <strong><a href="https://git-scm.com/ref/git-status">git-status</a></strong>
        in <a href="https://git-scm.com/docs">Reference</a>
      </li>
      <li class="reference">
      <strong><a href="https://git-scm.com/ref/git-commit">git-commit</a></strong>
        in <a href="https://git-scm.com/docs">Reference</a>
      </li>
      <li class="reference">
      <strong><a href="https://git-scm.com/ref/git-checkout">git-checkout</a></strong>
        in <a href="https://git-scm.com/docs">Reference</a>
      </li>
  </ul>


  </nav>
</aside>
        <div id="content">
          

<div id="book-chapters">
  <a class="dropdown-trigger" id="book-chapters-trigger" data-panel-id="chapters-dropdown" href="#">Chapters ▾</a>
<div class="dropdown-panel" id="chapters-dropdown">
  <div class="three-column">
    <div class="column-left">
      <ol class="book-toc">
  <li class="chapter">
  <h2>1. <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">Getting Started</a></h2>
    <ol>
          <li>
            1.1
            <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">About Version Control</a>
          </li>
          <li>
            1.2
            <a href="https://git-scm.com/book/en/v2/Getting-Started-A-Short-History-of-Git">A Short History of Git</a>
          </li>
          <li>
            1.3
            <a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">Git Basics</a>
          </li>
          <li>
            1.4
            <a href="https://git-scm.com/book/en/v2/Getting-Started-The-Command-Line">The Command Line</a>
          </li>
          <li>
            1.5
            <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Installing Git</a>
          </li>
          <li>
            1.6
            <a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">First-Time Git Setup</a>
          </li>
          <li>
            1.7
            <a href="https://git-scm.com/book/en/v2/Getting-Started-Getting-Help">Getting Help</a>
          </li>
          <li>
            1.8
            <a href="https://git-scm.com/book/en/v2/Getting-Started-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>2. <a href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository">Git Basics</a></h2>
    <ol>
          <li>
            2.1
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository">Getting a Git Repository</a>
          </li>
          <li>
            2.2
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository">Recording Changes to the Repository</a>
          </li>
          <li>
            2.3
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History">Viewing the Commit History</a>
          </li>
          <li>
            2.4
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things">Undoing Things</a>
          </li>
          <li>
            2.5
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes">Working with Remotes</a>
          </li>
          <li>
            2.6
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">Tagging</a>
          </li>
          <li>
            2.7
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases">Git Aliases</a>
          </li>
          <li>
            2.8
            <a href="https://git-scm.com/book/en/v2/Git-Basics-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>3. <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell">Git Branching</a></h2>
    <ol>
          <li>
            3.1
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell">Branches in a Nutshell</a>
          </li>
          <li>
            3.2
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">Basic Branching and Merging</a>
          </li>
          <li>
            3.3
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Branch-Management">Branch Management</a>
          </li>
          <li>
            3.4
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Branching-Workflows">Branching Workflows</a>
          </li>
          <li>
            3.5
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches">Remote Branches</a>
          </li>
          <li>
            3.6
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing">Rebasing</a>
          </li>
          <li>
            3.7
            <a href="https://git-scm.com/book/en/v2/Git-Branching-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>4. <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols">Git on the Server</a></h2>
    <ol>
          <li>
            4.1
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols">The Protocols</a>
          </li>
          <li>
            4.2
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Getting-Git-on-a-Server">Getting Git on a Server</a>
          </li>
          <li>
            4.3
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key">Generating Your SSH Public Key</a>
          </li>
          <li>
            4.4
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Setting-Up-the-Server">Setting Up the Server</a>
          </li>
          <li>
            4.5
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Git-Daemon">Git Daemon</a>
          </li>
          <li>
            4.6
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Smart-HTTP">Smart HTTP</a>
          </li>
          <li>
            4.7
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-GitWeb">GitWeb</a>
          </li>
          <li>
            4.8
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-GitLab">GitLab</a>
          </li>
          <li>
            4.9
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Third-Party-Hosted-Options">Third Party Hosted Options</a>
          </li>
          <li>
            4.10
            <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>5. <a href="https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows">Distributed Git</a></h2>
    <ol>
          <li>
            5.1
            <a href="https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows">Distributed Workflows</a>
          </li>
          <li>
            5.2
            <a href="https://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project">Contributing to a Project</a>
          </li>
          <li>
            5.3
            <a href="https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project">Maintaining a Project</a>
          </li>
          <li>
            5.4
            <a href="https://git-scm.com/book/en/v2/Distributed-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class="column-middle">
      <ol class="book-toc">
  <li class="chapter">
  <h2>6. <a href="https://git-scm.com/book/en/v2/GitHub-Account-Setup-and-Configuration">GitHub</a></h2>
    <ol>
          <li>
            6.1
            <a href="https://git-scm.com/book/en/v2/GitHub-Account-Setup-and-Configuration">Account Setup and Configuration</a>
          </li>
          <li>
            6.2
            <a href="https://git-scm.com/book/en/v2/GitHub-Contributing-to-a-Project">Contributing to a Project</a>
          </li>
          <li>
            6.3
            <a href="https://git-scm.com/book/en/v2/GitHub-Maintaining-a-Project">Maintaining a Project</a>
          </li>
          <li>
            6.4
            <a href="https://git-scm.com/book/en/v2/GitHub-Managing-an-organization">Managing an organization</a>
          </li>
          <li>
            6.5
            <a href="https://git-scm.com/book/en/v2/GitHub-Scripting-GitHub">Scripting GitHub</a>
          </li>
          <li>
            6.6
            <a href="https://git-scm.com/book/en/v2/GitHub-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>7. <a href="https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection">Git Tools</a></h2>
    <ol>
          <li>
            7.1
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection">Revision Selection</a>
          </li>
          <li>
            7.2
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Interactive-Staging">Interactive Staging</a>
          </li>
          <li>
            7.3
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Stashing-and-Cleaning">Stashing and Cleaning</a>
          </li>
          <li>
            7.4
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work">Signing Your Work</a>
          </li>
          <li>
            7.5
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Searching">Searching</a>
          </li>
          <li>
            7.6
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">Rewriting History</a>
          </li>
          <li>
            7.7
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Reset-Demystified">Reset Demystified</a>
          </li>
          <li>
            7.8
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging">Advanced Merging</a>
          </li>
          <li>
            7.9
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Rerere">Rerere</a>
          </li>
          <li>
            7.10
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Debugging-with-Git">Debugging with Git</a>
          </li>
          <li>
            7.11
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Submodules</a>
          </li>
          <li>
            7.12
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Bundling">Bundling</a>
          </li>
          <li>
            7.13
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Replace">Replace</a>
          </li>
          <li>
            7.14
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage">Credential Storage</a>
          </li>
          <li>
            7.15
            <a href="https://git-scm.com/book/en/v2/Git-Tools-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>8. <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration">Customizing Git</a></h2>
    <ol>
          <li>
            8.1
            <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration">Git Configuration</a>
          </li>
          <li>
            8.2
            <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes">Git Attributes</a>
          </li>
          <li>
            8.3
            <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git Hooks</a>
          </li>
          <li>
            8.4
            <a href="https://git-scm.com/book/en/v2/Customizing-Git-An-Example-Git-Enforced-Policy">An Example Git-Enforced Policy</a>
          </li>
          <li>
            8.5
            <a href="https://git-scm.com/book/en/v2/Customizing-Git-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>9. <a href="https://git-scm.com/book/en/v2/Git-and-Other-Systems-Git-as-a-Client">Git and Other Systems</a></h2>
    <ol>
          <li>
            9.1
            <a href="https://git-scm.com/book/en/v2/Git-and-Other-Systems-Git-as-a-Client">Git as a Client</a>
          </li>
          <li>
            9.2
            <a href="https://git-scm.com/book/en/v2/Git-and-Other-Systems-Migrating-to-Git">Migrating to Git</a>
          </li>
          <li>
            9.3
            <a href="https://git-scm.com/book/en/v2/Git-and-Other-Systems-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>10. <a href="https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain">Git Internals</a></h2>
    <ol>
          <li>
            10.1
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain">Plumbing and Porcelain</a>
          </li>
          <li>
            10.2
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects">Git Objects</a>
          </li>
          <li>
            10.3
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References">Git References</a>
          </li>
          <li>
            10.4
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Packfiles">Packfiles</a>
          </li>
          <li>
            10.5
            <a href="https://git-scm.com/book/en/v2/Git-Internals-The-Refspec">The Refspec</a>
          </li>
          <li>
            10.6
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">Transfer Protocols</a>
          </li>
          <li>
            10.7
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Maintenance-and-Data-Recovery">Maintenance and Data Recovery</a>
          </li>
          <li>
            10.8
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables">Environment Variables</a>
          </li>
          <li>
            10.9
            <a href="https://git-scm.com/book/en/v2/Git-Internals-Summary">Summary</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
    <div class="column-right">
      <ol class="book-toc">
  <li class="chapter">
  <h2>A1. <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Graphical-Interfaces">Git in Other Environments</a></h2>
    <ol>
          <li>
            A1.1
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Graphical-Interfaces">Graphical Interfaces</a>
          </li>
          <li>
            A1.2
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Git-in-Visual-Studio">Git in Visual Studio</a>
          </li>
          <li>
            A1.3
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Git-in-Eclipse">Git in Eclipse</a>
          </li>
          <li>
            A1.4
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Git-in-Bash">Git in Bash</a>
          </li>
          <li>
            A1.5
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Git-in-Zsh">Git in Zsh</a>
          </li>
          <li>
            A1.6
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Git-in-Powershell">Git in Powershell</a>
          </li>
          <li>
            A1.7
            <a href="https://git-scm.com/book/en/v2/Git-in-Other-Environments-Summary">Summary</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>A2. <a href="https://git-scm.com/book/en/v2/Embedding-Git-in-your-Applications-Command-line-Git">Embedding Git in your Applications</a></h2>
    <ol>
          <li>
            A2.1
            <a href="https://git-scm.com/book/en/v2/Embedding-Git-in-your-Applications-Command-line-Git">Command-line Git</a>
          </li>
          <li>
            A2.2
            <a href="https://git-scm.com/book/en/v2/Embedding-Git-in-your-Applications-Libgit2">Libgit2</a>
          </li>
          <li>
            A2.3
            <a href="https://git-scm.com/book/en/v2/Embedding-Git-in-your-Applications-JGit">JGit</a>
          </li>
    </ol>
  </li>
  <li class="chapter">
  <h2>A3. <a href="https://git-scm.com/book/en/v2/Git-Commands-Setup-and-Config">Git Commands</a></h2>
    <ol>
          <li>
            A3.1
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Setup-and-Config">Setup and Config</a>
          </li>
          <li>
            A3.2
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Getting-and-Creating-Projects">Getting and Creating Projects</a>
          </li>
          <li>
            A3.3
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Basic-Snapshotting">Basic Snapshotting</a>
          </li>
          <li>
            A3.4
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Branching-and-Merging">Branching and Merging</a>
          </li>
          <li>
            A3.5
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Sharing-and-Updating-Projects">Sharing and Updating Projects</a>
          </li>
          <li>
            A3.6
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Inspection-and-Comparison">Inspection and Comparison</a>
          </li>
          <li>
            A3.7
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Debugging">Debugging</a>
          </li>
          <li>
            A3.8
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Patching">Patching</a>
          </li>
          <li>
            A3.9
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Email">Email</a>
          </li>
          <li>
            A3.10
            <a href="https://git-scm.com/book/en/v2/Git-Commands-External-Systems">External Systems</a>
          </li>
          <li>
            A3.11
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Administration">Administration</a>
          </li>
          <li>
            A3.12
            <a href="https://git-scm.com/book/en/v2/Git-Commands-Plumbing-Commands">Plumbing Commands</a>
          </li>
    </ol>
  </li>
</ol>

    </div>
  </div>
 </div>

    <span class="light" id="edition">
      2nd Edition
    </span>
</div>

<div id="main" class="book edition2">
    <h1>2.4 Git Basics - Undoing Things</h1>
  <div><a id="_undoing"></a>
<h2>Undoing Things</h2>

<p>At any stage, you may want to undo something.
Here, we’ll review a few basic tools for undoing changes that you’ve made.
Be careful, because you can’t always undo some of these undos.
This is one of the few areas in Git where you may lose some work if you do it wrong.</p>

<p>One of the common undos takes place when you commit too early and possibly forget to add some files, or you mess up your commit message.
If you want to try that commit again, you can run commit with the <code>--amend</code> option:</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git commit --amend</pre>

<p>This command takes your staging area and uses it for the commit.
If you’ve made no changes since your last commit (for instance, you run this command immediately after your previous commit), then your snapshot will look exactly the same, and all you’ll change is your commit message.</p>

<p>The same commit-message editor fires up, but it already contains the message of your previous commit.
You can edit the message the same as always, but it overwrites your previous commit.</p>

<p>As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to add to this commit, you can do something like this:</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git commit -m <code class="s1">'initial commit'</code>
<code class="gp">$</code> git add forgotten_file
<code class="gp">$</code> git commit --amend</pre>

<p>You end up with a single commit – the second commit replaces the results of the first.</p>








<section data-type="sect2" id="_unstaging">
<h3 id="Unstaging-a-Staged-File"><a href="#Unstaging-a-Staged-File">Unstaging a Staged File</a></h3>

<p>The next two sections demonstrate how to wrangle your staging area and working directory changes.
The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them.
For example, let’s say you’ve changed two files and want to commit them as two separate changes, but you accidentally type <code>git add *</code> and stage them both.
How can you unstage one of the two?
The <code>git status</code> command reminds you:</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git add *
<code class="gp">$</code> git status
<code class="go">On branch master</code>
<code class="go">Changes to be committed:</code>
<code class="go">  (use "git reset HEAD &lt;file&gt;..." to unstage)</code>

<code class="go">    renamed:    README.md -&gt; README</code>
<code class="go">    modified:   CONTRIBUTING.md</code></pre>

<p>Right below the “Changes to be committed” text, it says use <code>git reset HEAD &lt;file&gt;...</code> to unstage.
So, let’s use that advice to unstage the <code>CONTRIBUTING.md</code> file:</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git reset HEAD CONTRIBUTING.md
<code class="go">Unstaged changes after reset:</code>
<code class="go">M	CONTRIBUTING.md</code>
<code class="gp">$</code> git status
<code class="go">On branch master</code>
<code class="go">Changes to be committed:</code>
<code class="go">  (use "git reset HEAD &lt;file&gt;..." to unstage)</code>

<code class="go">    renamed:    README.md -&gt; README</code>

<code class="go">Changes not staged for commit:</code>
<code class="go">  (use "git add &lt;file&gt;..." to update what will be committed)</code>
<code class="go">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</code>

<code class="go">    modified:   CONTRIBUTING.md</code></pre>

<p>The command is a bit strange, but it works.
The <code>CONTRIBUTING.md</code> file is modified but once again unstaged.</p>
<div data-type="note" id="id-yAUlH0UKTQ">
<h6>Note</h6>
<p>While <code>git reset</code> <em>can</em> be a dangerous command if you call it with <code>--hard</code>, in this instance the file in your working directory is not touched.
Calling <code>git reset</code> without an option is not dangerous - it only touches your staging area.</p>
</div>

<p>For now this magic invocation is all you need to know about the <code>git reset</code> command.
We’ll go into much more detail about what <code>reset</code> does and how to master it to do really interesting things in <a data-type="xref" href="https://git-scm.com/book/en/v2/ch00/_git_reset">Reset Demystified</a>.</p>
</section>













<section data-type="sect2" id="unmodifying-a-modified-file-K8t5cgTg">
<h3 id="Unmodifying-a-Modified-File"><a href="#Unmodifying-a-Modified-File">Unmodifying a Modified File</a></h3>

<p>What if you realize that you don’t want to keep your changes to the <code>CONTRIBUTING.md</code> file?
How can you easily unmodify it – revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?
Luckily, <code>git status</code> tells you how to do that, too.
In the last example output, the unstaged area looks like this:</p>

<pre data-type="programlisting" data-code-language="console"><code class="go">Changes not staged for commit:</code>
<code class="go">  (use "git add &lt;file&gt;..." to update what will be committed)</code>
<code class="go">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</code>

<code class="go">    modified:   CONTRIBUTING.md</code></pre>

<p>It tells you pretty explicitly how to discard the changes you’ve made.
Let’s do what it says:</p>

<pre data-type="programlisting" data-code-language="console"><code class="gp">$</code> git checkout -- CONTRIBUTING.md
<code class="gp">$</code> git status
<code class="go">On branch master</code>
<code class="go">Changes to be committed:</code>
<code class="go">  (use "git reset HEAD &lt;file&gt;..." to unstage)</code>

<code class="go">    renamed:    README.md -&gt; README</code></pre>

<p>You can see that the changes have been reverted.</p>
<div data-type="important" id="id-aMUAHaceTz">
<h6>Important</h6>
<p>It’s important to understand that <code>git checkout -- &lt;file&gt;</code> is a dangerous command.
Any changes you made to that file are gone – Git just copied another file over it.
Don’t ever use this command unless you absolutely know that you don’t want the file.</p>
</div>

<p>If you would like to keep the changes you’ve made to that file but still need to get it out of the way for now, we’ll go over stashing and branching in <a data-type="xref" href="https://git-scm.com/book/en/v2/ch00/_git_branching">Git Branching</a>; these are generally better ways to go.</p>

<p>Remember, anything that is <em>committed</em> in Git can almost always be recovered.
Even commits that were on branches that were deleted or commits that were overwritten with an <code>--amend</code> commit can be recovered (see <a data-type="xref" href="https://git-scm.com/book/en/v2/ch00/_data_recovery">Data Recovery</a> for data recovery).
However, anything you lose that was never committed is likely never to be seen again.</p>
</section>





<div id="nav"><a href="https://git-scm.com/book/en/Git-Basics-Viewing-the-Commit-History">prev</a> | <a href="https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes">next</a></div></div>
</div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    This <a href="https://github.com/git/git-scm.com/blob/master/README.md#license">open sourced</a> site is <a href="https://github.com/git/git-scm.com">hosted on GitHub.</a><br>
    Patches, suggestions and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="https://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>







    </div>



</body>
</html>
