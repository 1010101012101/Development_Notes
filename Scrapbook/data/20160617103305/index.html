<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    
    <title>20.7. httplib — HTTP protocol client — Python 2.7.12rc1 documentation</title>
    
    
    
    
    
    
    
    
    
    <link rel="search" type="application/opensearchdescription+xml" title="Search within Python 2.7.12rc1 documentation" href="https://docs.python.org/2/_static/opensearch.xml">
    <link rel="author" title="About these documents" href="https://docs.python.org/2/about.html">
    <link rel="copyright" title="Copyright" href="https://docs.python.org/2/copyright.html">
    <link rel="top" title="Python 2.7.12rc1 documentation" href="https://docs.python.org/2/contents.html">
    <link rel="up" title="20. Internet Protocols and Support" href="https://docs.python.org/2/library/internet.html">
    <link rel="next" title="20.8. ftplib — FTP protocol client" href="https://docs.python.org/2/library/ftplib.html">
    <link rel="prev" title="20.6. urllib2 — extensible library for opening URLs" href="https://docs.python.org/2/library/urllib2.html">
    <link rel="shortcut icon" type="image/png" href="py.png">
    
    
 
    

  
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body role="document">
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="module-httplib">
<div class="section" id="examples">
<!--DOCUMENT_FRAGMENT-->
<p>Here is an example session that shows how to <code class="docutils literal"><span class="pre">POST</span></code> requests:</p>
<div style="position: relative;" class="highlight-python"><div class="highlight"><span title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em;" class="copybutton">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">httplib</span><span class="o">,</span> <span class="nn">urllib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlencode</span><span class="p">({</span><span class="s1">'@number'</span><span class="p">:</span> <span class="mi">12524</span><span class="p">,</span> <span class="s1">'@type'</span><span class="p">:</span> <span class="s1">'issue'</span><span class="p">,</span> <span class="s1">'@action'</span><span class="p">:</span> <span class="s1">'show'</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/x-www-form-urlencoded"</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">"Accept"</span><span class="p">:</span> <span class="s2">"text/plain"</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span> <span class="o">=</span> <span class="n">httplib</span><span class="o">.</span><span class="n">HTTPConnection</span><span class="p">(</span><span class="s2">"bugs.python.org"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span>
<span class="go">302 Found</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">'Redirecting to &lt;a href="http://bugs.python.org/issue12524"&gt;http://bugs.python.org/issue12524&lt;/a&gt;'</span>
</pre></div></div>
<!--/DOCUMENT_FRAGMENT-->
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
